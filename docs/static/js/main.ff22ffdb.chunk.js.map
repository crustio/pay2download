{"version":3,"sources":["utils/sign.js","assets/connect-button.png","webpages/home.js","assets/card-background.png","assets/button.png","webpages/sellMyFiles.js","utils/constants.js","webpages/browserFiles/firstStep.js","assets/button_sec.png","assets/button_orange.png","utils/encrypt.js","webpages/browserFiles/secondStep.js","webpages/browserFiles/index.js","redux/actions/AccountActions.js","webpages/myAccount/index.js","assets/claim_btn.png","assets/claim_history.png","webpages/buyFiles/index.js","components/Header.js","assets/button_third.png","assets/logo.png","components/Layout.js","assets/footer.png","webpages/index.js","redux/reducers/AccountReducer.js","redux/reducers/RootReducer.js","redux/Store.js","utils/mock-db/mock.js","utils/mock-db/db/sellItem.js","utils/mock-db/index.js","App.js","reportWebVitals.js","index.js"],"names":["sign","data","account","msg","Buffer","from","toString","window","ethereum","request","params","method","then","signature","console","info","Promise","reject","Home","history","useHistory","React","useState","web3","setWeb3","isMetaMask","setIsMetaMask","address","setAddress","useEffect","localStorage","getItem","res","length","push","catch","error","connectMetaMask","a","web3Obj","Web3","enable","setItem","provider","providers","HttpProvider","style","textAlign","paddingTop","src","connectButton","width","cursor","alt","onClick","href","target","rel","useStyles","makeStyles","theme","container","margin","height","card","backgroundImage","cardImg","backgroundRepeat","backgroundSize","display","justifyContent","alignItems","imgButton","buttonImg","fontSize","color","fontWeight","textTransform","SellMyFiles","classes","className","Button","UPLOAD_TYPE_FILE","addMoreButton","marginRight","marginLeft","continueButton","fileDragAndDrop","position","top","left","StyledMenu","styled","props","Menu","elevation","anchorOrigin","vertical","horizontal","transformOrigin","borderRadius","marginTop","spacing","palette","mode","grey","boxShadow","padding","text","secondary","backgroundColor","alpha","primary","main","action","selectedOpacity","FirstStep","isUpdate","setIsUpdate","typeErrorMessage","setTypeErrorMessage","hiddenFileInput","useRef","hiddenFolderInput","hiddenMoreFileInput","anchorEl","setAnchorEl","menuOpen","Boolean","setSizeErrorMessage","fileList","setFileList","step","setStep","handleClick","type","current","click","handleChange","event","fileArr","Object","keys","files","forEach","key","handleDragAndDropChange","file","isContainFolder","i","isFile","maybeFile","resolve","reader","FileReader","onloadend","name","readAsBinaryString","Fragment","multiple","currentTarget","open","onClose","MenuListProps","MenuItem","onChange","ref","directory","webkitdirectory","marginBottom","TableContainer","maxHeight","Table","sx","minWidth","TableHead","TableRow","TableCell","align","TableBody","map","index","border","component","scope","Tooltip","title","arrow","placement","componentsProps","tooltip","slice","IconButton","splice","removeFile","originArr","concat","importKeyFromBytes","keyBytes","crypto","subtle","importKey","deriveKey","sourceKey","keyUsage","keyDerivationParams","encryptFile","fileArrayBuffer","secret","plainTextBytes","Uint8Array","passwordBytes","TextEncoder","encode","salt","getRandomValues","iv","passwordKey","iterations","hash","aesKey","encrypt","cipherBytes","cipherBytesArray","resultBytes","byteLength","set","decryptFile","cipher","password","decrypt","decryptedContent","readFileAsync","onload","result","onerror","readAsArrayBuffer","connect","state","accountAddress","itemName","setItemName","price","setPrice","isSubmit","setSubmit","sizeErrorMessage","setCancel","setUpState","setShareLink","setErrorMessage","formatBytes","bytes","decimals","k","dm","sizes","Math","floor","log","parseFloat","pow","toFixed","handleClickUpload","totalSize","size","cypher","Cypher","genMnemonics","mnemonics","fileData","btoa","encryptedData","encryptedFile","Blob","form","FormData","fileNameSplitArray","split","fileExtension","append","pinToIPFS","zip","JSZip","count","binary","generateAsync","content","perSignData","base64Signature","AuthBasic","AuthBearer","cancel","axios","CancelToken","source","cancelToken","token","headers","Authorization","maxContentLength","onUploadProgress","p","percent","loaded","total","round","pin","url","process","REACT_APP_IPFS_ENDPOINT","upResult","status","jsonStr","replaceAll","items","JSON","parse","folder","upRes","cid","Hash","Name","resultApi","private_key","options","Size","Grid","item","lg","md","sm","xs","OutlinedInput","value","disabled","maxWidth","TextField","helperText","variant","inputProps","min","progressLabel","lineHeight","isLoggedIn","update","shareLink","errorMessage","handleBack","completed","isLabelVisible","bgColor","location","origin","SET_ACCOUNT_ADDRESS","SET_ACCOUNT_SIGNATURE","SET_IS_LOGGED_IN","SET_IS_LOADING","SET_PRIVATE_KEY","setIsLoggedIn","dispatch","setGlobalPrivateKey","globalPrivateKey","myRevenueBlock","borderBottom","paddingLeft","paddingRight","mySellingItemsBlock","borderRight","myBoughtItemsBlock","borderTop","listCard","overflow","claimBtn","claimHistoryBtn","copyIcon","closeButton","float","closeIcon","StyledLoader","LoadingOverlay","setOpen","infoOpen","setInfoOpen","shareLinkOpen","setShareLinkOpen","setData","claimHistory","setClaimHistory","loading","setLoading","fetchAccountInfo","onClickClaim","unclaimed","onClickDownload","fileCid","active","spinner","wrapper","totalRevenue","Dialog","DialogTitle","Box","DialogContent","Paper","row","amount","create_time","replace","tx_hash","onCopy","Snackbar","autoHideDuration","Alert","severity","soldFiles","buyers","share_link","boughtFiles","imgButtonDisabled","setIsLoading","isLoading","success","setSuccess","setName","numberOfFiles","setNumberOfFiles","setSize","fileExist","setFileExist","setFileCid","sellerAddress","setSellerAddress","transactionHash","setTransactionHash","privateKey","setPrivateKey","shortlink","useParams","payment_address","getPrivateKey","clickPayButton","sendTransaction","eth","to","utils","toWei","on","receipt","confirmationNumber","networkVersion","chainId","toHex","err","decryptAndDownload","get","responseType","decryptData","saveFile","File","saveAs","HeaderBar","header","setAccountAddress","PropTypes","func","isRequired","setAccountSignature","storedSignature","storedAddress","updateSignature","accounts","document","hidden","removeItem","substr","Wrapper","div","Main","hide_header_routes","homeBackground","backgroundPosition","Layout","children","useLocation","indexOf","pathname","exact","path","BrowseFiles","MyAccount","BuyFiles","initialState","AccountReducer","RootReducer","combineReducers","middlewares","thunk","Store","createStore","compose","applyMiddleware","x","Mock","require","fileDB","id","onGet","reply","config","find","onAny","passThrough","App","store","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","REACT_APP_ENV","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ff22ffdb.chunk.js","sourcesContent":["export const sign = (data, account) => {\n  const msg = Buffer.from(data, 'utf8').toString('hex');\n\n  if (!window.ethereum?.request)\n    return Promise.reject(\"Error\")\n  return window.ethereum?.request({\n    from: account,\n    params: [msg, account],\n    method: 'personal_sign'\n  }).then((signature) => {\n    console.info('signData:', signature);\n    return signature;\n  });\n}","export default __webpack_public_path__ + \"static/media/connect-button.5f73df82.png\";","import React, { useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport connectButton from '../assets/connect-button.png';\nimport Web3 from \"web3\";\n\nconst Home = () => {\n  const history = useHistory();\n  const [web3, setWeb3] = React.useState();\n  const [isMetaMask, setIsMetaMask] = React.useState(true);\n  const [address, setAddress] = React.useState();\n  \n  useEffect(() => {\n    if(window.ethereum) {\n      if(localStorage.getItem('address')) {\n        window.ethereum\n        .request({ method: 'eth_accounts' })\n        .then((res) => {\n          if(res.length > 0) history.push('/sell-my-files');\n        })\n        .catch(console.error);\n      }\n    }\n    else {\n      setIsMetaMask(false);\n    }\n  });\n\n  useEffect(() => {\n    if(web3 && address) { history.push('/sell-my-files') };\n  }, [web3, address]);\n\n  const connectMetaMask = async () => {\n    if (window.ethereum) {\n      const web3Obj = new Web3(window.ethereum);\n      try {\n        await window.ethereum.enable();\n        setWeb3(web3Obj);\n      } catch (error) {\n      }\n\n      window.ethereum\n      .request({ method: 'eth_accounts' })\n      .then(async (res) => {\n        if(res.length === 0) history.push('/');\n        else {\n          localStorage.setItem('address', res[0]);\n          setAddress(res[0]);\n        }\n      })\n      .catch(console.error);\n    }\n    else if (window.web3) {\n      const web3Obj = window.web3;\n      setWeb3(web3Obj);\n    }\n    else {\n      const provider = new Web3.providers.HttpProvider(\n        `https://mainnet.infura.io/v3/ff7cb837065f48009f1e3b2039f50df3`\n      );\n      const web3Obj = new Web3(provider);\n      setWeb3(web3Obj);\n    }\n  }\n\n  return (\n    <div style={{textAlign: 'center', paddingTop: '8rem'}}>\n      {isMetaMask ? \n      <img src={connectButton} style={{width: '30%', cursor: 'pointer'}} alt=\"\" onClick={() => connectMetaMask()} /> \n      : \n      <h2>You have not installed MetaMask yet. <a href=\"https://metamask.io/\" target=\"_blank\" rel=\"noreferrer\">Click here</a> to Install MetaMask.</h2>}\n    </div>\n  );\n};\nexport default Home;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABVAAAAJgCAYAAABso0hrAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABG7SURBVHgB7dqxDQMxDARB0f33LLuA34CZH5gBlJ0aWHDO3j0AAAAAAO80m/HnAAAAAADwSEAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAECY37ubD/eu5gAAAAAAf2NmVnsXqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAwHkmoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACHP27gEAAAAAeKdVE3WBCgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAIQvG+QKvaZfLdUAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZcAAABfCAYAAAAkqopgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANmSURBVHgB7d1RbhtVFIDhcyeTxkkTYaS8pRFdQndAugJgBfQx8ILYQbsIKnaTLiEbQEKEVjyU1DRA4tjxxYnEQ2T6QO8xOPB90sjyLGB+zbnSnBIr4uRweFC6chQA/G016rP956OnsSK6AIBk4gJAOnEBIF0fK2pjMI3dvbMAYNHb00GcvdmMVeXNBYB04gJAOnEBIJ24AJBOXABIJy4ApBMXANKJCwDpxAWAdOICQDpxASCduACQLuXDlT8eDp+ULj6ONsMaALyPEuWTl18OP4oGtcTowTejryNBSlxmJQ66KJ8HAP+WRzXKo2hQanw//0mJi7EYAOnEBYB0S1kWtrUzjo3NabToOicwAO+yeX8S/fosWsyuSvzy81Ysw1Licr1FcmvnMgBYjvWNq5urxdW0m8cllsJYDIB04gJAOnEBIJ24AJBOXABIJy4ApBMXANKJCwDpxAWAdOICQDpxASBdf3I4PIhGJUrTghoAVkNGE6aDOO5LV44CgP+9GvEwown9RX1sLAZAOnEBIN3CPpeNwSRarTUusAHgn5HxzJ9c9jGblVv3FuKyu/drAPDft9bPUp75r19tx/h8/dY9YzEA0okLAOnEBYB04gJAOnEBIJ24AJBOXABIJy4ApBMXANKJCwDpxAWAdOICQDpxASCduACQTlwASCcuAKRbWBb2+tVOtNr+4CIG99u3mwGwPNfbI09/2o5Wk/Hawr2FuIzP+2i1tV0CgNVW53HJeOb/FWMxANKJCwDp+jqrj6NR18VXNcqnAcBdNpo34bNoNB3Ecb//7ehFNPrhi+GTzjELwJ02f4yPHiQ04ZqxGADpxAWAdOICQDpxASCduACQTlwASCcuAKQTFwDSiQsA6cQFgHTiAkC6pXzIf3yxfvORmhZ9P4t7m9MAYNH1gq7J5Vq0mF0t76OQS4nL72f3bq4WG4Np7O6dBQCLzn9bj7M3m7GqjMUASCcuAKRLGYt1NV6UUms0qLU8nJ/THAQA7+O4RD2OBrXEKJKszIqvk8PhQenK0Z//nbkAvNvb08GtM5ca9dn+89HTWBHGYgCkExcA0okLAOnEBYB04gJAOnEBIJ24AJBOXABIJy4ApBMXANKJCwDpxAWAdEtZFpZhfNHHy+8+DADuHm8uAKQTFwDSiQsA6f4A5S+XGOxSrkYAAAAASUVORK5CYII=\"","import React from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from '@mui/styles';\nimport { Button } from '@mui/material';\nimport cardImg from '../assets/card-background.png';\nimport buttonImg from '../assets/button.png';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    margin: '2rem',\n    height: '90%'\n  },\n  card: {\n    backgroundImage: `url(${cardImg})`, \n    backgroundRepeat: 'no-repeat', \n    backgroundSize: '100% 100%',\n    height: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    textAlign: 'center'\n  },\n  imgButton: {\n    backgroundImage: `url(${buttonImg})`, \n    backgroundRepeat: 'no-repeat', \n    backgroundSize: 'contain',\n    width: 300,\n    height: 70,\n    fontSize: '25px !important',\n    color: 'white !important',\n    fontWeight: '600 !important',\n    textTransform: 'none !important',\n  },\n}));\n\nconst SellMyFiles = () => {\n    const classes = useStyles();\n    const history = useHistory();\n\n    return (\n      <div className={classes.container}>\n        <div className={classes.card}>\n          <Button className={classes.imgButton} onClick={() => history.push('/browse-files')}>Sell My Files</Button> \n        </div>\n      </div>\n    );\n};\nexport default SellMyFiles;","export const UPLOAD_TYPE_FILE = 'file';\nexport const UPLOAD_TYPE_FOLDER = 'folder';","import React from 'react';\nimport { makeStyles } from '@mui/styles';\nimport { styled, alpha } from '@mui/material/styles';\nimport { Button, Menu, MenuItem } from '@mui/material';\nimport { FileUploader } from \"react-drag-drop-files\";\nimport TableContainer from '@mui/material/TableContainer';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport IconButton from '@mui/material/IconButton';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport buttonImg from '../../assets/button.png';\nimport buttonSecImg from '../../assets/button_sec.png';\nimport buttonOrangeImg from '../../assets/button_orange.png';\nimport Tooltip from '@mui/material/Tooltip';\nimport { UPLOAD_TYPE_FILE, UPLOAD_TYPE_FOLDER } from '../../utils/constants';\n\nconst useStyles = makeStyles(theme => ({\n    imgButton: {\n      backgroundImage: `url(${buttonImg})`, \n      backgroundRepeat: 'no-repeat', \n      backgroundSize: 'contain',\n      width: 300,\n      height: 70,\n      fontSize: '25px !important',\n      color: 'white !important',\n      fontWeight: '600 !important',\n      textTransform: 'none !important',\n    },\n    addMoreButton: {\n      backgroundImage: `url(${buttonSecImg})`, \n      backgroundRepeat: 'no-repeat', \n      backgroundSize: 'contain',\n      width: 150,\n      height: 40,\n      color: 'white !important',\n      textTransform: 'none !important',\n      marginRight: '4rem !important',\n      marginLeft: '-2rem !important'\n    },\n    continueButton: {\n      backgroundImage: `url(${buttonOrangeImg})`, \n      backgroundRepeat: 'no-repeat', \n      backgroundSize: 'contain',\n      width: 150,\n      height: 40,\n      color: 'white !important',\n      textTransform: 'none !important',\n      marginRight: '4rem !important',\n      marginLeft: '-2rem !important'\n    },\n    fileDragAndDrop: {\n      width: '100vw',\n      height: '100vh',\n      position: 'fixed',\n      top: 0,\n      left: 0,\n    },\n  }));\n\n  const StyledMenu = styled((props) => (\n    <Menu\n      elevation={0}\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'right',\n      }}\n      transformOrigin={{\n        vertical: 'top',\n        horizontal: 'right',\n      }}\n      {...props}\n    />\n  ))(({ theme }) => ({\n    '& .MuiPaper-root': {\n      borderRadius: 6,\n      marginTop: theme.spacing(1),\n      width: 300,\n      color:\n        theme.palette.mode === 'light' ? 'rgb(55, 65, 81)' : theme.palette.grey[300],\n      boxShadow:\n        'rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px',\n      '& .MuiMenu-list': {\n        padding: '4px 0',\n      },\n      '& .MuiMenuItem-root': {\n        '& .MuiSvgIcon-root': {\n          fontSize: 18,\n          color: theme.palette.text.secondary,\n          marginRight: theme.spacing(1.5),\n        },\n        '&:active': {\n          backgroundColor: alpha(\n            theme.palette.primary.main,\n            theme.palette.action.selectedOpacity,\n          ),\n        },\n      },\n    },\n  }));\n\nconst FirstStep = (props) => {\n  const classes = useStyles();\n  const [isUpdate, setIsUpdate] = React.useState(true);\n  const [typeErrorMessage, setTypeErrorMessage] = React.useState();\n  const hiddenFileInput = React.useRef(null);\n  const hiddenFolderInput = React.useRef(null);\n  const hiddenMoreFileInput = React.useRef(null);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const menuOpen = Boolean(anchorEl);\n  const { setSizeErrorMessage, fileList, setFileList, step, setStep } = props;\n\n  const handleClickBrowseFiles = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleCloseMenu = () => {\n    setAnchorEl(null);\n  }\n\n  const handleClick = type => {\n    if(type === UPLOAD_TYPE_FILE) {\n      hiddenFileInput.current.click();\n    }\n    else {\n      hiddenFolderInput.current.click();\n    }\n    setAnchorEl(null);\n  };\n\n  const handleMoreClick = event => {\n    hiddenMoreFileInput.current.click();\n  };\n\n  const handleClickContinue = event => {\n    setStep(step+1);\n  }\n\n  const handleChange = event => {\n    var fileArr = [];\n    setSizeErrorMessage(null);\n    setTypeErrorMessage(null);\n    Object.keys(event.target.files).forEach(key => fileArr.push(event.target.files[key]));\n    setFileList(fileArr);\n  }\n\n  const handleDragAndDropChange = async (file) => {\n    var isContainFolder = false;\n    var fileArr = [];\n    setSizeErrorMessage(null);\n    setTypeErrorMessage(null);\n    for(let i=0; i<file.length; i++) {\n      const response = await isFile(file[i]);\n      if(response === \"NotFoundError\") isContainFolder = true;\n      fileArr.push(file[i]);\n    };\n\n    if(isContainFolder) {\n      setTypeErrorMessage('Can\\'t upload folder using drag and drop zone. Please use Browse File button.');\n    }\n    else {\n      setFileList(fileArr);\n    }\n  }\n\n  const isFile = (maybeFile) => {\n    return new Promise(function (resolve, reject) {\n      if (maybeFile.type !== '') {\n        return resolve(maybeFile)\n      }\n      const reader = new FileReader()\n      reader.onloadend = () => {\n        if (reader.error && reader.error.name === 'NotFoundError') {\n          return resolve(reader.error.name)\n        }\n        resolve(maybeFile)\n      }\n      reader.readAsBinaryString(maybeFile)\n    })\n  }\n\n  const handleMoreChange = event => {\n    var fileArr = [];\n    var originArr = fileList;\n    Object.keys(event.target.files).forEach(key => fileArr.push(event.target.files[key]));\n    setFileList(originArr.concat(fileArr));\n  }\n\n  const removeFile = (index) => {\n    if(isUpdate) {\n      setIsUpdate(false);\n    }\n    else {\n      setIsUpdate(true);\n    }\n\n    var fileArr = fileList;\n    fileArr.splice(index, 1);\n    setFileList(fileArr);\n  }\n\n  return (\n    <React.Fragment>\n      {fileList.length === 0 ? \n        <div>\n          <FileUploader \n            multiple={true}\n            name=\"file\"\n            handleChange={handleDragAndDropChange}\n          >\n            <div className={classes.fileDragAndDrop}></div>\n          </FileUploader>\n          <h2>Drag & Drop Files Here</h2>\n          <h2>or</h2>\n          <Button className={classes.imgButton} onClick={handleClickBrowseFiles}>Browse Files</Button>\n          <StyledMenu \n            anchorEl={anchorEl}\n            open={menuOpen}\n            onClose={handleCloseMenu}\n            MenuListProps={{\n              'aria-labelledby': 'basic-button',\n            }}\n          >\n            <MenuItem onClick={() => handleClick(UPLOAD_TYPE_FILE)}>Upload Files</MenuItem>\n            <MenuItem onClick={() => handleClick(UPLOAD_TYPE_FOLDER)}>Upload Folder</MenuItem>\n          </StyledMenu>\n          {typeErrorMessage && <p style={{color: 'red'}}>{typeErrorMessage}</p>}\n          <input type='file' onChange={handleChange} multiple style={{display: 'none'}} ref={hiddenFileInput}  />\n          <input type='file' onChange={handleChange} style={{display: 'none'}} ref={hiddenFolderInput} directory=\"\" webkitdirectory=\"\" />\n        </div>\n      :\n        <div>\n          <div style={{marginBottom: '30px'}}>\n          <TableContainer style={{ maxHeight: '20rem' }}>\n            <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n              <TableHead>\n                <TableRow>\n                  <TableCell>File Name</TableCell>\n                  <TableCell align=\"right\">Action</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody sx={{\n                'tr:nth-of-type(odd)': {backgroundColor: '#F8F8F8'}\n              }}>\n                {fileList.map((file, index) => (\n                  <TableRow\n                    key={index}\n                    sx={{ '&:last-child td, &:last-child th': { border: 0 }, 'td': {padding: 0}}}\n                  >\n                    <TableCell component=\"th\" scope=\"row\">\n                      <Tooltip title={\n                          <span>{file.name}</span>\n                      } arrow placement=\"top\" componentsProps={{\n                        tooltip: {\n                          sx: {\n                            color: \"black\",\n                            backgroundColor: \"white\",\n                            boxShadow: \"0 0 6px rgba(100, 100, 100, 0.5)\"\n                          }\n                        },\n                        arrow: {\n                          sx: {\n                            color: 'white',\n                          }\n                        }\n                      }}><span>{file.name.length > 20 ? file.name.slice(0, 20) + '...' : file.name}</span></Tooltip>\n                    </TableCell>\n                    <TableCell align=\"right\">\n                      <IconButton onClick={() => removeFile(index)}><DeleteIcon /></IconButton>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n            </TableContainer>\n          </div>\n          <Button className={classes.addMoreButton} onClick={handleMoreClick}>Add More</Button>\n          <Button className={classes.continueButton} onClick={handleClickContinue}>Continue</Button>\n          <input type='file' onChange={handleMoreChange} multiple style={{display: 'none'}} ref={hiddenMoreFileInput}/>\n        </div>\n      }\n    </React.Fragment>\n  );\n};\n\nexport default FirstStep;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAAA+CAYAAAA/B2f5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKKSURBVHgB7d0xjtpAFIDhZwtLWwYKJKgQJVUkLuCV7D43SHKCHCHKSZLcIL2N4hyAlhIhCigoWIkCJNA4nlVAm2YzY4XVW/N/jSnGgoJfSNZjJpArSpLkZ3WJBWie+zzPC7mSUACo05IXMJ1OZbvdCvDajcdjabfbcm38YgIKESagEGECChEmoBBhAgoRJqAQYQIKESagkNeAQRzHgyiKYtf1ZVm+EaCBgiB4l6bpwGWtMeZhMpn8EA9eYdooq9i+CnDjqg4+ua4Nw3BRXa4X5tl+v/casTudTgI0wWazefz+u2i1WtLtdqWOWmHaKGezmQC3ZrlcOq+9u7urHSYPfwCFCBNQiDABhQgTUIgwAYUIE1CIMAGFCBNQqPVni0lXAwHgxc6M+3RmjPluJ39i1xuqNxAA3uyfOWLXxWEY/rqM5NktJl25zgoCt8zOiPt01ev1pN/vP76+hMm+r8D/ZcP06erpfrU8/AEUIkxAIcIEFCJMQCHCBBQiTEAhwgQUIkxAIcIEFLpM/vickmsnGna7nQB4nk9Xdle9s0uY9ghrV6vViu0rgX+wofl09ZQNs/BYb6fk3woAX4XrQmPMopXn+b3rDWmafuCIBMBPEASLLMucO7N4+AMoRJiAQoQJKESYgEKECShEmIBChAkoRJiAQrVOlO50OjIajZzXz+dzORwOArx2w+Hwr5nW59ij3uuqdaf9YOf9L12s12vCRCPYoXSfwfS6vMI8Ho9FFEUfPW75XJblQIDm+WJH7VwWGmMexJNXmEVRLKrLN9f1SZK8F847QTMVWZYVciU8/AEUIkxAIcIEFCJMQCHCBBQiTEAhwgQUIkxAofrDfB7qbuEH3Cp+MQGFfgNzXZp50lLGkAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAAA+CAYAAAA/B2f5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKwSURBVHgB7d1fahNBHMDx32w2jQmJbkB8UCrxBh4hvYFH0LdCHjyCeAntm3gDb5B4EiOEIBJssJA/TXbH3VXX+mJmFld+br4faJuHGfrSLwPbyS9GKjQbRWOxZihAzdjEnp1eLCdSkUAAqBPKP3D3/pW02nsB/neLeVe266ZUjRMTUIgwAYUIE1CIMAGFCBNQiDABhQgTUIgwAYW8Lhh8OI8G6b9Wh+47TCRAHQXBk1nag8vSxMjy4evlO/HgFWYeZWDeOG+wAtSSEfs8bcFpbUNkmv6oLsziF4WJtNo75/VBQKGoh1udXf737yKJjWxWJ1JGqTCzKPv3VgIcm260dV4b7wP59LFcmDz8ARQiTEAhwgQUIkxAIcIEFCJMQCHCBBQiTEChcDbqj10XGysD7vAAftJmIp/OEmvfhumuoesGogRKiXw6MyLviyt52YhJV2HT7a4gcMxMYL26Wl2dpF+t/HURJnNfgb8re/OGT1fb9a+r6zz8ARQiTEAhwgQUIkxAIcIEFCJMQCHCBBQiTEAhwgQUKq4a3Lx1cEgjsBK2YgHwZz5dxftG8brYtZj3xFWnt2V8JXBANr7Sp6ubQjF24rza5h958FgA+PHozMQydZvx/sPsPHqafUQCJyZw2PeBz3eyt3FNH7y6fOSzl4c/gEKECShEmIBChAkoRJiAQoQJKESYgEKECShU6hOlt+umXH7uOK+/3d9Ig5GXqIGvX9oS793u5SSJ1/2d35QKM7vR8HP+pYtO75owUQvXm0Z+MFXNK8ydyKSZ2GfOGwLzIv0+EKBmrNiXJpGpy9rYyFI8lT9rHcxG0VisGWbTqBkojTpYzLv5iWkTe3Z6sZxIRXj4AyhEmIBChAkoRJiAQoQJKESYgEKECShEmIBCpa7k+So7wg84VpyYgELfAFjinDPI94dQAAAAAElFTkSuQmCC\"","const importKeyFromBytes = async (keyBytes) =>\n  window.crypto.subtle.importKey(\"raw\", keyBytes, \"PBKDF2\", false, [\n    \"deriveKey\"\n  ])\n\nconst deriveKey = async (\n  sourceKey,\n  keyUsage,\n  keyDerivationParams\n) =>\n  window.crypto.subtle.deriveKey(\n    keyDerivationParams,\n    sourceKey,\n    { name: \"AES-GCM\", length: 256 },\n    false,\n    keyUsage\n  )\n\nexport const encryptFile = async (\n    fileArrayBuffer,\n    secret\n  ) => {\n    try {\n      const plainTextBytes = new Uint8Array(fileArrayBuffer)\n      const passwordBytes = new TextEncoder().encode(secret)\n  \n      const salt = window.crypto.getRandomValues(new Uint8Array(16))\n      const iv = window.crypto.getRandomValues(new Uint8Array(12))\n  \n      const passwordKey = await importKeyFromBytes(passwordBytes)\n  \n      const aesKey = await deriveKey(passwordKey, [\"encrypt\"], {\n        name: \"PBKDF2\",\n        salt: salt,\n        iterations: 250000,\n        hash: \"SHA-256\"\n      })\n      const cipherBytes = await window.crypto.subtle.encrypt(\n        { name: \"AES-GCM\", iv: iv },\n        aesKey,\n        plainTextBytes\n      )\n  \n      const cipherBytesArray = new Uint8Array(cipherBytes)\n      const resultBytes = new Uint8Array(\n        cipherBytesArray.byteLength + salt.byteLength + iv.byteLength\n      )\n      resultBytes.set(salt, 0)\n      resultBytes.set(iv, salt.byteLength)\n      resultBytes.set(cipherBytesArray, salt.byteLength + iv.byteLength)\n  \n      return resultBytes\n    } catch (error) {\n      console.error(\"Error encrypting file\")\n      console.error(error)\n      throw error\n    }\n  }\n\n\n  export const decryptFile = async (\n    cipher,\n    password\n  ) => {\n    try {\n      const cipherBytes = new Uint8Array(cipher)\n      const passwordBytes = new TextEncoder().encode(password)\n  \n      const salt = cipherBytes.slice(0, 16)\n      const iv = cipherBytes.slice(16, 16 + 12)\n      const data = cipherBytes.slice(16 + 12)\n      const passwordKey = await importKeyFromBytes(passwordBytes)\n      const aesKey = await deriveKey(passwordKey, [\"decrypt\"], {\n        name: \"PBKDF2\",\n        salt: salt,\n        iterations: 250000,\n        hash: \"SHA-256\"\n      })\n  \n      const decryptedContent = await window.crypto.subtle.decrypt(\n        {\n          name: \"AES-GCM\",\n          iv: iv\n        },\n        aesKey,\n        data\n      )\n  \n      return decryptedContent\n    } catch (error) {\n      console.error(\"Error decrypting file\")\n      console.error(error)\n      return\n    }\n  }\n\n  export const readFileAsync = (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader()\n  \n      reader.onload = () => {\n        reader.result && resolve(reader.result)\n      }\n  \n      reader.onerror = reject\n  \n      reader.readAsArrayBuffer(file)\n    })\n  }","import React from 'react';\nimport axios from 'axios';\nimport { makeStyles } from '@mui/styles';\nimport { Button, Grid, OutlinedInput, TextField } from '@mui/material';\nimport buttonImg from '../../assets/button.png';\nimport { connect } from \"react-redux\";\nimport JSZip from 'jszip';\nimport { encryptFile, readFileAsync } from '../../utils/encrypt';\nimport {Cypher} from \"@zheeno/mnemonic-cypher\";\n\nconst WordsCount = 8\n\nconst useStyles = makeStyles(theme => ({\n    imgButton: {\n      backgroundImage: `url(${buttonImg})`, \n      backgroundRepeat: 'no-repeat', \n      backgroundSize: 'contain',\n      width: 300,\n      height: 70,\n      fontSize: '25px !important',\n      color: 'white !important',\n      fontWeight: '600 !important',\n      textTransform: 'none !important',\n    },\n  }));\n\nconst SecondStep = (props) => {\n  const classes = useStyles();\n  const [itemName, setItemName] = React.useState('');\n  const [price, setPrice] = React.useState(0);\n  const [isSubmit, setSubmit] = React.useState(false);\n  const {\n    accountAddress,\n    signature,\n    fileList,\n    step,\n    sizeErrorMessage,\n    setCancel,\n    setUpState,\n    setShareLink,\n    setErrorMessage,\n    setSizeErrorMessage,\n    setStep\n  } = props;\n\n  const formatBytes = (bytes, decimals = 2) => {\n    if (bytes === 0) return '0 Bytes';\n\n    const k = 1024;\n    const dm = decimals < 0 ? 0 : decimals;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n  }\n\n  const handleClickUpload = async (event) => {\n    setSubmit(true);\n\n    if (itemName && price && price > 0) {\n      let totalSize = 0;\n      for(let i=0; i<fileList.length; i++) {\n        totalSize += fileList[i].size;\n      }\n      if(totalSize < 1000000000)\n      {\n        if(fileList.length === 1) {\n          const cypher = new Cypher(WordsCount);\n          const {secret, mnemonics} = cypher.genMnemonics();\n          const fileData = await readFileAsync(fileList[0]);\n          const encryptedData = await encryptFile(fileData, window.btoa(secret));\n          const encryptedFile = new Blob([encryptedData], { type: fileList[0].type });\n  \n          const form = new FormData();\n          const fileNameSplitArray = fileList[0].name.split('.');\n          const fileExtension = fileNameSplitArray[fileNameSplitArray.length - 1];\n          form.append('file', encryptedFile, `${itemName}.${fileExtension}`);\n  \n          setStep(step+1);\n          await pinToIPFS(form, secret);\n        }\n        else {\n          // Compose all files into a folder\n          let zip = new JSZip();\n          var count = 0;\n          fileList.forEach(function(file) {\n            zip.file(file.name, file, {binary: true});\n            count++;\n            if (count === fileList.length) {\n              zip.generateAsync({type:'blob'}).then(async (content) => {\n                setStep(step+1); // Move to progress page.\n                setUpState(0); // Set start progress 0.\n\n                // Encrypt the file with public key\n                const cypher = new Cypher(WordsCount);\n                const {secret, mnemonics} = cypher.genMnemonics();\n                const file = new Blob([content], { type: 'application/zip' });\n                const fileData = await readFileAsync(file)\n                const encryptedData = await encryptFile(fileData, window.btoa(secret));\n                const encryptedFile = new Blob([encryptedData], { type: 'application/zip' });\n\n                const form = new FormData();\n                form.append('file', encryptedFile, `${itemName}.zip`);\n\n                await pinToIPFS(form, secret);\n              });\n            }\n          });\n        }\n      }\n      else {\n        setSizeErrorMessage('We can not upload files larger than 1GB!');\n      }\n    }\n  }\n\n  const pinToIPFS = async (form, secret) => {\n    // Upload the folder to IPFS W3Auth GW -> single cid back\n    const perSignData = `eth-${accountAddress}:${signature}`;\n    const base64Signature = window.btoa(perSignData);\n    const AuthBasic = `Basic ${base64Signature}`;\n    const AuthBearer = `Bearer ${base64Signature}`;\n    const cancel = axios.CancelToken.source();\n    setCancel(cancel);\n\n    const upResult = await axios.request({\n        cancelToken: cancel.token,\n        data: form,\n        headers: { Authorization: AuthBasic },\n        maxContentLength: 1024,\n        method: 'POST',\n        onUploadProgress: (p) => {\n            const percent = p.loaded / p.total;\n            setUpState(Math.round(percent * 99));\n        },\n        params: { pin: true },\n        url: `${process.env.REACT_APP_IPFS_ENDPOINT}/api/v0/add`\n    }).catch(error => {\n      setErrorMessage('Error occurred during uploading!');\n    });\n\n    if(upResult?.status === 200) {\n      let upRes;\n      if (typeof upResult.data === 'string') {\n        const jsonStr = upResult.data.replaceAll('}\\n{', '},{');\n        const items = JSON.parse(`[${jsonStr}]`);\n        const folder = items.length - 1;\n\n        upRes = items[folder];\n        delete items[folder];\n        upRes.items = items;\n      } else {\n          upRes = upResult.data;\n      }\n\n      // Call IPFS W3Auth pinning service\n      const PinEndpoint = 'https://pin.crustcode.com';\n      \n      let resultApi = await axios.request({\n          data: {\n              cid: upRes.Hash,\n              name: upRes.Name\n          },\n          headers: { Authorization: AuthBearer },\n          method: 'POST',\n          url: `${PinEndpoint}/psa/pins`\n      }).catch(error => {\n        setErrorMessage('Error occurred druing pinning cid!');\n      });\n      \n      if(resultApi?.status === 200) {\n        setUpState(99);\n        // CALL API 1\n        resultApi = await axios.request({\n          data: {\n              cid: upRes.Hash,\n              price: price,\n              name: upRes.Name,\n              private_key: window.btoa(secret),\n              options: {\n                size: formatBytes(upRes.Size),\n                count: fileList.length,\n              }\n          },\n          headers: { Authorization: AuthBearer },\n          method: 'POST',\n          url: `https://p2d.crustcode.com/api/v1/calculateShortLinkHash`\n        }).catch(error => {\n          setErrorMessage('Error occurred during generate short hash link');\n        });\n\n        if(resultApi?.status === 200) {\n          setShareLink(resultApi.data.data.result);\n          setUpState(100);\n          setStep(4);\n        }\n        else {\n          setErrorMessage('Error occurred during generate short hash link');\n        }\n      }\n      else {\n        setErrorMessage('Error occurred druing pinning cid!');\n      }\n    }\n    else {\n      setErrorMessage('Error occurred during uploading!');\n    }\n  }\n\n  return (\n    <div>\n      <Grid container spacing={3}>\n        <Grid item lg={5} md={5} sm={12} xs={12} style={{display: 'grid', textAlign: 'end', alignItems: 'center'}}>\n          <span>Files for Sale</span>\n        </Grid>\n        <Grid item lg={7} md={7} sm={12} xs={12} style={{textAlign: 'start'}}>\n          <OutlinedInput type=\"text\" value={`${fileList.length} file${fileList.length === 1 ? '' : 's'} selected`} disabled style={{width: '100%', maxWidth: 300}}/>\n        </Grid>\n        <Grid item lg={5} md={5} sm={12} xs={12} style={{display: 'grid', textAlign: 'end', alignItems: 'center'}}>\n          <span>Name This Item</span>\n        </Grid>\n        <Grid item lg={7} md={7} sm={12} xs={12} style={{textAlign: 'start'}}>\n          <TextField \n            error={!itemName && isSubmit ? true : false}\n            value={itemName} \n            onChange={(event) => { setItemName(event.target.value); setSubmit(false); }} \n            style={{width: '100%', maxWidth: 300}}\n            helperText={!itemName && isSubmit ? \"This field is required\" : null}\n          />\n        </Grid>\n        <Grid item lg={5} md={5} sm={12} xs={12} style={{display: 'grid', textAlign: 'end', alignItems: 'center'}}>\n          <span>Set Price (ETH)</span>\n        </Grid>\n        <Grid item lg={7} md={7} sm={12} xs={12} style={{textAlign: 'start'}}>\n          <TextField \n            error={(!price || price  <= 0) && isSubmit ? true : false}\n            variant=\"outlined\" \n            type=\"number\" \n            inputProps={{ min: \"0\", step: \"0.1\"}} \n            value={price} \n            onChange={(event) => { setPrice(event.target.value); setSubmit(false); }} \n            style={{width: '100%', maxWidth: 300}}\n            helperText={(!price || price  <= 0) && isSubmit ? \"The value should not be null or less than 0.\" : null}\n          />\n        </Grid>\n      </Grid>\n      <Button className={classes.imgButton} onClick={handleClickUpload} style={{marginTop: 20}}>Upload</Button>\n      {sizeErrorMessage && <p style={{color: 'red'}}>{sizeErrorMessage}</p>}\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  accountAddress: state.account.address,\n  signature: state.account.signature\n});\n\nexport default connect(mapStateToProps, {  })(SecondStep);","import React, { useEffect } from 'react';\nimport { connect } from \"react-redux\";\nimport { makeStyles } from '@mui/styles';\nimport { Button } from '@mui/material';\nimport ProgressBar from \"@ramonak/react-progress-bar\";\nimport cardImg from '../../assets/card-background.png';\nimport buttonImg from '../../assets/button.png';\nimport FirstStep from './firstStep';\nimport SecondStep from './secondStep';\n\nconst useStyles = makeStyles(theme => ({\n    container: {\n      margin: '2rem',\n      height: '90%'\n    },\n    card: {\n      backgroundImage: `url(${cardImg})`, \n      backgroundRepeat: 'no-repeat', \n      backgroundSize: '100% 100%',\n      height: '100%',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      textAlign: 'center',\n      position: 'relative'\n    },\n    progressLabel: {\n      fontSize: 36,\n      fontWeight: 500,\n      lineHeight: 0,\n    },\n    imgButton: {\n      backgroundImage: `url(${buttonImg})`, \n      backgroundRepeat: 'no-repeat', \n      backgroundSize: 'contain',\n      width: 300,\n      height: 70,\n      fontSize: '25px !important',\n      color: 'white !important',\n      fontWeight: '600 !important',\n      textTransform: 'none !important',\n    },\n  }));\n\nconst BrowseFiles = (props) => {\n  const classes = useStyles();\n  const [fileList, setFileList] = React.useState([]);\n  const [cancel, setCancel] = React.useState();\n  const [step, setStep] = React.useState(1);\n  const [update, setUpState] = React.useState(0);\n  const [shareLink, setShareLink] = React.useState('');\n  const [errorMessage, setErrorMessage] = React.useState();\n  const [sizeErrorMessage, setSizeErrorMessage] = React.useState();\n  const { signature, isLoggedIn } = props;\n\n  const handleBack = event => {\n    setStep(step-1);\n    setUpState(0);\n    cancel.cancel();\n    setErrorMessage(null);\n    setSizeErrorMessage(null);\n  }\n\n  useEffect(() => {\n    console.log(update, '%')\n  }, [update]);\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.card}>\n        {\n          (step === 2 || step === 3) &&\n          <Button style={{textTransform: 'none', position: 'absolute', top: 15, left: 20, color: 'black'}} onClick={handleBack}>{\"< Go back\"}</Button>\n        }\n        {\n          isLoggedIn \n          ? \n          <React.Fragment>\n            {signature ? <React.Fragment>\n              {step === 1 && <FirstStep\n                fileList={fileList}\n                setFileList={setFileList}\n                setSizeErrorMessage={setSizeErrorMessage}\n                step={step}\n                setStep={setStep}\n              />}\n              {step === 2 ? <SecondStep\n                fileList={fileList}\n                sizeErrorMessage={sizeErrorMessage}\n                step={step}\n                setCancel={setCancel}\n                setUpState={setUpState}\n                setShareLink={setShareLink}\n                setErrorMessage={setErrorMessage}\n                setSizeErrorMessage={setSizeErrorMessage}\n                setStep={setStep}\n              /> : null}\n              {step === 3 && <div>\n                <h3 className={classes.progressLabel} style={{color: errorMessage ? 'red' : null}}>{errorMessage ? errorMessage : \"Waiting for Encryption & Uploading...\"}</h3>\n                <ProgressBar completed={update} borderRadius=\"0px\" isLabelVisible={false} height=\"40px\" bgColor={\"#56BA28\"} style={{border: '1px solid black'}} className=\"progressWrapper\"/>\n                <Button className={classes.imgButton} onClick={handleBack} style={{marginTop: 20}}>Cancel</Button>\n              </div>}\n              {step === 4 && <div>\n                <h1>Congratulations!</h1>\n                <h3>You have successfully created a sale item.</h3>\n                <h3>Share links: <a target=\"_blank\" rel=\"noreferrer\" href={`${window.location.origin}/buy-files/${shareLink}`} style={{color: '#FF8D00'}}>{window.location.origin}/buy-files/{shareLink}</a></h3>\n              </div>}\n            </React.Fragment> : <React.Fragment>\n              <div>\n                <h2>You didn't sign from Metamask. Please check Metamask or refresh page.</h2>\n              </div>\n            </React.Fragment>}\n          </React.Fragment>\n          :\n          <div>\n            <h2>You are not logged into Metamask. Please login first.</h2>\n          </div>\n        }\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  signature: state.account.signature,\n  isLoggedIn: state.account.isLoggedIn\n});\n\nexport default connect(mapStateToProps, {  })(BrowseFiles);","export const SET_ACCOUNT_ADDRESS = \"SET_ACCOUNT_ADDRESS\";\nexport const SET_ACCOUNT_SIGNATURE = \"SET_ACCOUNT_SIGNATURE\";\nexport const SET_IS_LOGGED_IN = \"SET_IS_LOGGED_IN\";\nexport const SET_IS_LOADING = \"SET_IS_LOADING\";\nexport const SET_PRIVATE_KEY = \"SET_PRIVATE_KEY\";\n\nexport function setAccountAddress(address) {\n    return dispatch => {\n        dispatch({\n            type: SET_ACCOUNT_ADDRESS,\n            address: address\n        });\n    };\n}\n\nexport function setAccountSignature(signature) {\n    return dispatch => {\n        dispatch({\n            type: SET_ACCOUNT_SIGNATURE,\n            signature: signature\n        });\n    };\n}\n\nexport function setIsLoggedIn(isLoggedIn) {\n    return dispatch => {\n        dispatch({\n            type: SET_IS_LOGGED_IN,\n            isLoggedIn: isLoggedIn\n        });\n    };\n}\n\nexport function setIsLoading(isLoading) {\n    return dispatch => {\n        dispatch({\n            type: SET_IS_LOADING,\n            isLoading: isLoading\n        });\n    };\n}\n\nexport function setGlobalPrivateKey(globalPrivateKey) {\n    return dispatch => {\n        dispatch({\n            type: SET_PRIVATE_KEY,\n            globalPrivateKey: globalPrivateKey\n        });\n    };\n}","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components'\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from '@mui/styles';\nimport { connect } from \"react-redux\";\nimport { Button, Grid, Snackbar, Box, IconButton, Alert } from '@mui/material';\nimport LoadingOverlay from 'react-loading-overlay-ts';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport Dialog from '@mui/material/Dialog';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport cardImg from '../../assets/card-background.png';\nimport claimImg from '../../assets/claim_btn.png';\nimport claimHistoryImg from '../../assets/claim_history.png';\nimport Tooltip from '@mui/material/Tooltip';\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\nimport CloseIcon from '@mui/icons-material/Close';\nimport { setGlobalPrivateKey } from '../../redux/actions/AccountActions';\nimport axios from 'axios';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    margin: '2rem',\n    height: '90%'\n  },\n  card: {\n    backgroundImage: `url(${cardImg})`, \n    backgroundRepeat: 'no-repeat', \n    backgroundSize: '100% 100%',\n    height: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    textAlign: 'center',\n    position: 'relative'\n  },\n  myRevenueBlock: {\n    borderBottom: '1px solid black',\n    height: '30%',\n    paddingTop: 50,\n    paddingLeft: 30,\n    paddingRight: 30,\n    display: 'flex',\n    textAlign: 'left'\n  },\n  mySellingItemsBlock: {\n    borderRight: '1px solid black',\n    height: '70%',\n    textAlign: 'left',\n    paddingLeft: 30,\n    '@media only screen and (max-width: 900px)' : {\n      height: '35%'\n    }\n  },\n  myBoughtItemsBlock: {\n    height: '70%',\n    textAlign: 'left',\n    paddingLeft: 30,\n    '@media only screen and (max-width: 900px)': {\n      borderTop: '1px solid black',\n      height: '35%'\n    }\n  },\n  listCard: {\n    overflow: 'auto',\n    height: '80%',\n    '@media only screen and (max-width: 900px)': {\n      height: '60%'\n    }\n  },\n  claimBtn: {\n    backgroundImage: `url(${claimImg})`, \n    backgroundRepeat: 'no-repeat', \n    backgroundSize: 'contain',\n    width: 93,\n    height: 31,\n    color: 'black !important',\n    fontWeight: '600 !important',\n    textTransform: 'none !important',\n    marginRight: '20px !important'\n  },\n  claimHistoryBtn: {\n    backgroundImage: `url(${claimHistoryImg})`, \n    backgroundRepeat: 'no-repeat', \n    backgroundSize: 'contain',\n    width: 215,\n    height: 31,\n    color: 'black !important',\n    fontWeight: '600 !important',\n    textTransform: 'none !important',\n  },\n  copyIcon: {\n    fontSize: '13px !important',\n    marginLeft: 15,\n    paddingTop: 5,\n    \"&:hover\": {\n      cursor: \"pointer\"\n    }\n  },\n  closeButton: {\n    float: 'right',\n    \"&:hover\": {\n      color: \"black\"\n    }\n  },\n  closeIcon: {\n    fontSize: '1rem !important',\n    \"&:hover\": {\n      color: \"black\"\n    }\n  }\n}));\n\nconst StyledLoader = styled(LoadingOverlay)`\n  height: 100%;\n`\n\nconst status = {\n  0: 'Newly Build',\n  1: 'Pending',\n  2: 'Success',\n  3: 'Failed',\n}\n\n\nconst MyAccount = (props) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [open, setOpen] = useState(false);\n  const [infoOpen, setInfoOpen] = useState(false);\n  const [shareLinkOpen, setShareLinkOpen] = useState(false);\n  const [errorMessage, setErrorMessage] = useState();\n  const [data, setData] = useState();\n  const [claimHistory, setClaimHistory] = useState();\n  const [loading, setLoading] = useState(false);\n  const { accountAddress, signature, isLoggedIn, setGlobalPrivateKey } = props;\n\n  useEffect(() => {\n    setGlobalPrivateKey(null);\n  }, []);\n\n  useEffect(() => {\n    fetchAccountInfo();\n  }, [accountAddress, signature])\n\n  const handleBack = () => {\n    history.push('/');\n  }\n\n  const fetchAccountInfo = async () => {\n    if(accountAddress && signature && accountAddress.length > 0) {\n      setLoading(true);\n      // const signature = await sign(accountAddress, accountAddress);\n      const perSignData = `eth-${accountAddress}:${signature}`;\n      const base64Signature = window.btoa(perSignData);\n      const AuthBearer = `Bearer ${base64Signature}`;\n      await axios.request({\n        headers: { Authorization: AuthBearer },\n        method: 'get',\n        url: `https://p2d.crustcode.com/api/v1/accountInfo`\n      }).then(result => {\n        setData(result.data.data);\n      }).catch(error => {\n        console.log('Error occurred during fetch account info.');\n      });\n\n      await axios.request({\n        headers: { Authorization: AuthBearer },\n        method: 'get',\n        url: `https://p2d.crustcode.com/api/v1/claimHistory`\n      }).then(result => {\n        setClaimHistory(result.data.data);\n        setLoading(false);\n      }).catch(error => {\n        console.log('Error occurred during fetch claim history');\n        \n      });\n    }\n  }\n\n  const onClickClaim = async () => {\n    if(data?.unclaimed === 0) {\n      setErrorMessage('No revenue can be claimed!');\n    }\n    else {\n      const perSignData = `eth-${accountAddress}:${signature}`;\n      const base64Signature = window.btoa(perSignData);\n      const AuthBearer = `Bearer ${base64Signature}`;\n  \n      await axios.request({\n        headers: { Authorization: AuthBearer },\n        method: 'post',\n        url: `https://p2d.crustcode.com/api/v1/claim`\n      }).then(result => {\n        fetchAccountInfo();\n      }).catch(error => {\n        setErrorMessage('Error occurred during fetch claim');\n      });\n    }\n  }\n\n  const onClickDownload = async (fileCid, shareLink) => {\n    const perSignData = `eth-${accountAddress}:${signature}`;\n    const base64Signature = window.btoa(perSignData);\n    const AuthBearer = `Bearer ${base64Signature}`;\n\n    await axios.request({\n      headers: { Authorization: AuthBearer },\n      method: 'get',\n      url: `https://p2d.crustcode.com/api/v1/download/${fileCid}`\n    }).then(result => {\n      if(result.data.data.status === true) {\n        setGlobalPrivateKey(result.data.data.result.private_key);\n        history.push(`/buy-files/${shareLink}`);\n      }\n    }).catch(error => {\n      setErrorMessage('Error occurred during private key');\n    });\n  }\n\n  return (\n    <div className={classes.container}>\n      <StyledLoader\n          active={loading}\n          spinner\n          style={{\n            wrapper: {\n              width: '100%',\n              height: '100%'\n            }\n          }}\n        >\n        <div className={classes.card}>\n          <Button style={{textTransform: 'none', position: 'absolute', top: 15, left: 20, color: 'black'}} onClick={handleBack}>{\"< Go back\"}</Button>\n          {isLoggedIn ? \n            <React.Fragment>\n              {signature ? \n              <Grid container style={{height: '96%', width: '98%'}}>\n                <Grid item lg={12} md={12} sm={12} xs={12} className={classes.myRevenueBlock}>\n                  <div>\n                    <p style={{fontSize: 20, fontWeight: 500}}>My Revenue</p>\n                    <p style={{fontSize: 15, fontWeight: 300, lineHeight: 0.5}}>Total Revenue: {data?.totalRevenue} ETH</p>\n                    <p style={{fontSize: 15, fontWeight: 300, lineHeight: 0.5}}>Unclaimed: {data?.unclaimed} ETH</p>\n                    <p style={{color: 'red'}}>{errorMessage}</p>\n                  </div>\n                  <div style={{paddingLeft: 30, paddingTop: 65}}>\n                    <Button className={classes.claimBtn} onClick={() => onClickClaim()}>Claim</Button>\n                    <Button className={classes.claimHistoryBtn} onClick={() => setOpen(true)}>Check Claim History</Button>\n                    <Dialog onClose={() => setOpen(false)} open={open} maxWidth=\"md\">\n                      <DialogTitle>\n                        <Box>\n                          <span>Check Claim History</span>\n                          <IconButton onClick={() => setOpen(false)} className={classes.closeButton}>\n                            <CloseIcon className={classes.closeIcon} />\n                          </IconButton>\n                        </Box>\n                      </DialogTitle>\n                      <DialogContent>\n                        <TableContainer component={Paper}>\n                          <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n                            <TableHead>\n                              <TableRow>\n                                <TableCell>No.</TableCell>\n                                <TableCell align=\"left\">Action</TableCell>\n                                <TableCell align=\"left\">Amount</TableCell>\n                                <TableCell align=\"left\">Date</TableCell>\n                                <TableCell align=\"left\">Status</TableCell>\n                                <TableCell align=\"left\"></TableCell>\n                              </TableRow>\n                            </TableHead>\n                            <TableBody sx={{\n                                'tr:nth-of-type(odd)': {backgroundColor: '#F8F8F8'}\n                              }}>\n                              {claimHistory?.map((row, index) => (\n                                <TableRow\n                                  key={`row-${index}`}\n                                  sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                                >\n                                  <TableCell>{index + 1}</TableCell>\n                                  <TableCell align=\"left\">{`Claim`}</TableCell>\n                                  <TableCell align=\"left\">{row.amount} ETH</TableCell>\n                                  <TableCell align=\"left\">{row.create_time.replace('T', ' ').replace('.000Z', '')}</TableCell>\n                                  <TableCell align=\"left\">{status[row.status]}</TableCell>\n                                  <TableCell align=\"left\"><Tooltip title={\n                                    <React.Fragment>\n                                      <span>{row.tx_hash}\n                                      <CopyToClipboard text={row.tx_hash} onCopy={() => setInfoOpen(true)} >\n                                        <ContentCopyIcon className={classes.copyIcon}/>\n                                      </CopyToClipboard>\n                                      </span>\n                                    </React.Fragment>\n                                  } arrow placement=\"top\" componentsProps={{\n                                    tooltip: {\n                                      sx: {\n                                        color: \"black\",\n                                        backgroundColor: \"white\",\n                                        boxShadow: \"0 0 6px rgba(100, 100, 100, 0.5)\"\n                                      }\n                                    },\n                                    arrow: {\n                                      sx: {\n                                        color: 'white',\n                                      }\n                                    }\n                                  }}><u>Tx</u></Tooltip></TableCell>\n                                </TableRow>\n                              ))}\n                            </TableBody>\n                          </Table>\n                        </TableContainer>\n                      </DialogContent>\n                      <Snackbar open={infoOpen} autoHideDuration={2000} onClose={() => setInfoOpen(false)}>\n                        <Alert onClose={() => setInfoOpen(false)} severity=\"success\" sx={{ width: '100%' }}>\n                          Transaction address copied!\n                        </Alert>\n                      </Snackbar>\n                    </Dialog>\n                  </div>\n                </Grid>\n                <Grid item lg={6} md={6} sm={12} xs={12} className={classes.mySellingItemsBlock}>\n                  <p style={{fontSize: 20, fontWeight: 500}}>My Selling Items</p>\n                  <div className={classes.listCard}>\n                    {data?.soldFiles?.map((item, index) => (\n                      <p key={`sold-files-${index}`}>{`#${index+1} ${item.name}, ${item.price < 0.00001 ? parseFloat(item.price) : item.price} ETH, ${item.buyers.length} sold, `} \n                      <CopyToClipboard text={`${window.location.origin}/buy-files/${item.share_link}`} onCopy={() => setShareLinkOpen(true)} >\n                        <a href='#'>Share Link</a>\n                      </CopyToClipboard>\n                      </p>\n                    ))}\n                  </div>\n                </Grid>\n                <Grid item lg={6} md={6} sm={12} xs={12} className={classes.myBoughtItemsBlock}>\n                  <p style={{fontSize: 20, fontWeight: 500}}>My Bought Items</p>\n                  <div className={classes.listCard}>\n                    {data?.boughtFiles?.map((item, index) => (\n                      <p key={`bought-files-${index}`}>\n                        <span>{`#${index+1} ${item.name}, ${item.price < 0.00001 ? parseFloat(item.price) : item.price} ETH, ${status[item.status]} `}</span> \n                        {item.status === 2 && <a href=\"#\" onClick={() => onClickDownload(item.cid, item.share_link)}>Download</a>}\n                      </p>\n                    ))}\n                  </div>\n                </Grid>\n                <Snackbar open={shareLinkOpen} autoHideDuration={2000} onClose={() => setShareLinkOpen(false)}>\n                  <Alert onClose={() => setShareLinkOpen(false)} severity=\"success\" sx={{ width: '100%' }}>\n                    Share link copied!\n                  </Alert>\n                </Snackbar>\n              </Grid>\n              \n              : \n              <div>\n                <h2>You didn't sign from Metamask. Please check Metamask or refresh page.</h2>\n              </div>\n              }\n            </React.Fragment>\n            : \n            <div>\n              <h2>You are not logged into Metamask. Please login first.</h2>\n            </div>\n          }\n        </div>\n      </StyledLoader>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  accountAddress: state.account.address,\n  signature: state.account.signature,\n  isLoggedIn: state.account.isLoggedIn\n});\nexport default connect(mapStateToProps, { setGlobalPrivateKey })(MyAccount);","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF8AAAAfCAYAAACBFBGZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFpSURBVHgB7ZrRjYMwDIbN6QZgA2ACYAPYJEzACIzSbnAjNCMwAmzABlyMeOiBg5pSnVvp/yQLySEvn1DimBCFYVzMCG8kFMAXBWKMoXmeEZtIkiDvz8kHrwPyFYF8Rb49+dhFIeRzAkeULjIhb6WXffKLOI5vRbH3n+fwL1GWJWVZ9rPNW2v5EUlzxKSjctwcBM4RRYti0TPWfEUgXxHIV4Q3XCPkw49r4Agj5AaWf+GWwZZnjstgz+r2cp8bhoGrIMu78My9CfB/cPlZ17XFmq8I5CsC+YpAviJLb6dpmt0A93XatiVwDsntNE3Lk6sdI8wpXG+nRW/nPGtvpxGGJv7yr8JA5QKf/eu4Skms+YpAviKQr4jvTxb1fc9H4F3ebcTUdR2Bv3BVwz2bEHzye1cO1esvsHuqNE1hXoArw3EcuaoZHp3jk8+FqBXyKYEjuDYfH30Za74ikK8I5H8Qhj7r1vBb31L+BdwTpUkwEJZjAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANcAAAAfCAYAAAB0xlhsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGLSURBVHgB7d3RbYMwEMbxo+oAbBAzQWAD2MRMwAgZhWzQEcIIjAAbsEHrQ3log2lB6j35/5MspAMePyFfLpDJOT6sXoA0ubDmoxe/y0nee+l78oW0OOdkng/navUmAEwQLsAI4QKM7O258rDKSP0qQLqqsIpIfYhdvBeuMs/zR1lu83W9ki+kp6oqKYri47U+DIMestg90WJQB49AAOzLsjVC0Ryx5wKMEC7ACOECjGhDw0fqFwFwlI/UJg1XryNNry4X8gX85ZmdH/OA0zRpF3HQLsdnIAD+h7bnm6YZ2HMBRggXYIRwAUYIF2BknS1s23ZzQucKu64TAPti2VmWZT1qt9BH7inruu6YLQR+95wtbCOnFn1y3SMn6rB4bAHH3GNF9lyAEcIFGCFcgJHdV6uN46gjHJt6aHTI7XYTICXaFdSZwTP2wjWGdmLz/Avzd7VzjmQhOdo5n+dZu4LT0Xv2wqWN+iFSdwKkS3+bOvxmUPZcgBHCBRghXICR7OT1XvjKCdLl5MSe6wtp/1Eg9ArvGQAAAABJRU5ErkJggg==\"","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components'\nimport axios from 'axios';\nimport { connect } from \"react-redux\";\nimport { makeStyles } from '@mui/styles';\nimport { Button } from '@mui/material';\nimport cardImg from '../../assets/card-background.png';\nimport buttonImg from '../../assets/button.png';\nimport { useParams } from \"react-router-dom\";\nimport LoadingOverlay from 'react-loading-overlay-ts';\nimport { decryptFile } from '../../utils/encrypt';\nimport { saveAs } from 'file-saver';\nimport Web3 from 'web3';\nimport { setIsLoading, setGlobalPrivateKey } from '../../redux/actions/AccountActions';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    margin: '2rem',\n    height: '90%'\n  },\n  card: {\n    backgroundImage: `url(${cardImg})`, \n    backgroundRepeat: 'no-repeat', \n    backgroundSize: '100% 100%',\n    height: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    textAlign: 'center'\n  },\n  imgButton: {\n    backgroundImage: `url(${buttonImg})`, \n    backgroundRepeat: 'no-repeat', \n    backgroundSize: 'contain',\n    width: 300,\n    height: 70,\n    fontSize: '25px !important',\n    color: 'white !important',\n    fontWeight: '600 !important',\n    textTransform: 'none !important',\n  },\n  imgButtonDisabled: {\n    backgroundImage: `url(${buttonImg})`, \n    backgroundRepeat: 'no-repeat', \n    backgroundSize: 'contain',\n    width: 300,\n    height: 70,\n    fontSize: '25px !important',\n    color: 'rgba(255,255,255, 0.5) !important',\n    fontWeight: '600 !important',\n    textTransform: 'none !important',\n  },\n  msg: {\n    color: 'red'\n  }\n}));\n\nconst StyledLoader = styled(LoadingOverlay)`\n  height: 100%;\n`\n\nconst BuyFiles = (props) => {\n  const { accountAddress, signature, isLoggedIn, setIsLoading, globalPrivateKey, setGlobalPrivateKey } = props;\n  const classes = useStyles();\n  const [success, setSuccess] = useState(false); // Success for file purchase.\n  const [loading, setLoading] = useState(false); \n  const [name, setName] = useState(); // File name.\n  const [numberOfFiles, setNumberOfFiles] = useState(); // Number of files.\n  const [size, setSize] = useState(); // File size.\n  const [price, setPrice] = useState(); // File Price.\n  const [fileExist, setFileExist] = useState(true); // Condition variable for file existance.\n  const [fileCid, setFileCid] = useState(); // Cid of file to down.\n  const [sellerAddress, setSellerAddress] = useState(); // File seller's Metamask address.\n  const [transactionHash, setTransactionHash] = useState(); // Hash for transaction to buy files.\n  const [privateKey, setPrivateKey] = useState(globalPrivateKey);\n  const [errorMessage, setErrorMessage] = useState();\n  let { shortlink } = useParams();\n\n  useEffect(async () => {\n    if(accountAddress && signature && accountAddress.length > 0) {\n      // const signature = await sign(accountAddress, accountAddress);\n      const perSignData = `eth-${accountAddress}:${signature}`;\n      const base64Signature = window.btoa(perSignData);\n      const AuthBearer = `Bearer ${base64Signature}`;\n      \n      await axios.request({\n        headers: { Authorization: AuthBearer },\n        method: 'get',\n        url: `https://p2d.crustcode.com/api/v1/shortLink/${shortlink}`\n      }).then(result => {\n        if(result.data.data.name) {\n          setName(result.data.data.name);\n          setPrice(result.data.data.price);\n          setSellerAddress(result.data.data.payment_address);\n          setFileCid(result.data.data.cid);\n          setFileExist(true);\n          setSize(result.data.data.options.size);\n          setNumberOfFiles(result.data.data.options.count);\n        }\n        else {\n          setFileExist(false);\n        }\n      }).catch(error => {\n        setFileExist(false);\n      });\n    }\n  }, [accountAddress, signature]);\n\n  useEffect(async () => {\n    if(transactionHash) {\n      const perSignData = `eth-${accountAddress}:${signature}`;\n      const base64Signature = window.btoa(perSignData);\n      const AuthBearer = `Bearer ${base64Signature}`;\n  \n      axios.request({\n        data: {\n          cid: fileCid,\n          hash: transactionHash\n        },\n        headers: { Authorization: AuthBearer },\n        method: 'post',\n        url: `https://p2d.crustcode.com/api/v1/buyFile`\n      }).then(result => {\n        if(result.data) {\n          if(result.data.data.status === true && result.data.data.result === 'success') {\n            getPrivateKey();\n          }\n        }\n        else {\n          setLoading(false);\n          setIsLoading(false);\n        }\n      }).catch(error => {\n        setLoading(false);\n        setIsLoading(false);\n      });\n    }\n  }, [transactionHash]);\n\n  useEffect(() => {\n    if(privateKey) {\n      setSuccess(true);\n      setLoading(false);\n      setIsLoading(false);\n    }\n  }, [privateKey]);\n\n  const clickPayButton = async () => {\n    if(accountAddress && signature) {\n      const web3 = new Web3(window.ethereum);\n      const sendTransaction = () => {\n        web3.eth.sendTransaction({\n          from: accountAddress,\n          to: sellerAddress,\n          value: Web3.utils.toWei(price.toString(), 'ether'),\n        })\n        .on('transactionHash', function(hash){\n        })\n        .on('receipt', function(receipt){\n        })\n        .on('confirmation', function(confirmationNumber, receipt){ \n          setTransactionHash(receipt.transactionHash);\n        })\n        .on('error', function(error) { setLoading(false); setIsLoading(false); });\n      }\n\n      setLoading(true);\n      setIsLoading(true);\n\n      if(isLoggedIn) {\n        if(window.ethereum.networkVersion === '1') {\n          sendTransaction();\n        }\n        else {\n          try {\n            await window.ethereum.request({\n              method: 'wallet_switchEthereumChain',\n              params: [{ chainId: web3.utils.toHex(1) }]\n            })\n            .then((res) => sendTransaction())\n            .catch((err) => {\n              setLoading(false);\n              setIsLoading(false);\n            });\n          } catch (err) {\n          }\n        }\n      }\n      else {\n        setLoading(false);\n        setIsLoading(false);\n      }\n    }\n  }\n\n  const getPrivateKey = async () => {\n    const perSignData = `eth-${accountAddress}:${signature}`;\n    const base64Signature = window.btoa(perSignData);\n    const AuthBearer = `Bearer ${base64Signature}`;\n\n    await axios.request({\n      headers: { Authorization: AuthBearer },\n      method: 'get',\n      url: `https://p2d.crustcode.com/api/v1/download/${fileCid}`\n    }).then(result => {\n      if(result.data.data.status === true) {\n        setSuccess(true);\n        setLoading(false);\n        setIsLoading(false);\n        setPrivateKey(result.data.data.result.private_key);\n      }\n    }).catch(error => {\n      setErrorMessage('Error occurred during private key');\n    });\n  }\n\n  const decryptAndDownload = async () => {\n    setLoading(true);\n    setIsLoading(true);\n    const res = await axios.get(`${process.env.REACT_APP_IPFS_ENDPOINT}/ipfs/${fileCid}?filename=${name}`, { responseType: \"arraybuffer\" });\n    const decryptData = await decryptFile(res.data, privateKey);\n    const saveFile = new File([decryptData], name, { type: res.headers['content-type'] });\n    saveAs(saveFile, name);\n    setLoading(false);\n    setIsLoading(false);\n    setGlobalPrivateKey(null);\n  }\n\n  return (\n    <div className={classes.container}>\n      <StyledLoader\n          active={loading}\n          spinner\n          style={{\n            wrapper: {\n              width: '100%',\n              height: '100%'\n            }\n          }}\n        >\n        <div className={classes.card}>\n          {\n            isLoggedIn \n            ? \n            <React.Fragment>\n              {signature ? <React.Fragment>\n                {fileExist === true ? <div>\n                    <h2>{name}</h2>\n                    <p>{numberOfFiles} Files, {size}, {price < 0.00001 ? parseFloat(price) : price} ETH</p>\n                    {loading && !success && <p className={classes.msg}>Payment process, please don't close and refresh the page</p>}\n                    <Button \n                      className={loading === false ? classes.imgButton : classes.imgButtonDisabled} \n                      onClick={() => success ? decryptAndDownload() : clickPayButton()} \n                      disabled={loading}>\n                        {success ? 'Download' : `Pay ${price < 0.00001 ? parseFloat(price) : price} ETH`}\n                    </Button>\n                </div> : \n                <div>\n                  <h2>File Does not exist.</h2>\n                </div>}\n                </React.Fragment> \n                :\n                <div>\n                  <h2>You didn't sign from Metamask. Please check Metamask or refresh page.</h2>\n                </div>\n              }\n            </React.Fragment>\n            : <div>\n                <h2>You are not logged into Metamask. Please login first.</h2>\n              </div>\n          }\n        </div>\n      </StyledLoader>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  accountAddress: state.account.address,\n  signature: state.account.signature,\n  isLoggedIn: state.account.isLoggedIn,\n  globalPrivateKey: state.account.globalPrivateKey,\n});\n\nexport default connect(mapStateToProps, { setIsLoading, setGlobalPrivateKey })(BuyFiles);","import React, { useEffect, useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport logo from '../assets/logo.png';\nimport styled from 'styled-components';\nimport { Button } from '@mui/material';\nimport { makeStyles } from '@mui/styles';\nimport buttonImg from '../assets/button_third.png';\nimport { connect } from \"react-redux\";\nimport { setAccountAddress, setAccountSignature, setIsLoggedIn } from '../redux/actions/AccountActions';\nimport PropTypes from 'prop-types';\nimport { sign } from '../utils/sign';\n\nconst HeaderBar = styled.header`\n  width: 100%;\n  padding: 0.5em 2em;\n  display: flex;\n  height: 64px;\n  position: fixed;\n  align-items: center;\n  background-color: #FF8D00;\n  z-index: 1;\n  justify-content: space-between;\n`;\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  imgButton: {\n    backgroundImage: `url(${buttonImg})`, \n    backgroundRepeat: 'no-repeat', \n    backgroundSize: 'contain',\n    width: 150,\n    height: 40,\n    color: 'black !important',\n    textTransform: 'none !important',\n    marginRight: '4rem !important',\n    marginLeft: '-2rem !important'\n  },\n}));\n\nconst Header = (props) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const { setAccountAddress, setAccountSignature, setIsLoggedIn, accountAddress, isLoading, isLoggedIn } = props;\n  \n  useEffect(async () => {\n    if(window.ethereum) {\n      const storedSignature = localStorage.getItem('signature');\n      if(storedSignature) {\n        await setAccountSignature(storedSignature);\n      }\n\n      const storedAddress = localStorage.getItem('address');\n      if(storedAddress) {\n        await setAccountAddress(storedAddress);\n      }\n      else {\n        window.ethereum\n        .request({ method: 'eth_accounts' })\n        .then(async (res) => {\n          if(res.length === 0) history.push('/');\n          else {\n            setAccountAddress(res[0]);\n            updateSignature(res[0]);\n            localStorage.setItem('address', res[0]);\n          }\n        })\n        .catch(console.error);\n      }\n\n      window.ethereum.on('accountsChanged', (accounts) => {\n        if(localStorage.getItem('address') !== accounts[0] && !document.hidden) {\n          localStorage.setItem('address', accounts[0]);\n          localStorage.removeItem('signature');\n          setAccountSignature(null);\n          setAccountAddress(accounts[0]);\n        }\n      });\n    }\n    else {\n      history.push('/');\n    }\n  }, []);\n\n  useEffect(async () => {\n    const storedSignature = localStorage.getItem('signature');\n    if(accountAddress && accountAddress.length > 0 && !storedSignature) {\n      updateSignature(accountAddress);\n    }\n  }, [accountAddress]);\n\n  const disconnect = () => {\n    localStorage.removeItem('address');\n    localStorage.removeItem('signature');\n    history.push('/');\n  }\n\n  const shortenAddress = address => address && address.length > 0 && isLoggedIn ? `${address.slice(0, 6)}...${address.substr(address.length - 8)}` : '';\n\n  const updateSignature = async (address) => {\n    const signature = await sign(address, address);\n    localStorage.setItem('signature', signature);\n    setAccountSignature(signature);\n    setIsLoggedIn(true);\n  }\n\n  return (\n    <HeaderBar>\n      <div className={classes.container}>\n        <div>\n            <img src={logo} alt=\"Xcelvations Logo\" height=\"40\" />\n        </div>\n        <div>\n            <p style={{fontSize: 20, fontWeight: 500, margin: '0px 0px 0px 10px' }}>Hello</p>\n            <p style={{fontSize: 15, fontWeight: 500, margin: '0px 0px 0px 10px' }}>{shortenAddress(accountAddress)}</p>\n        </div>\n      </div>\n      <div className={classes.container}>\n        <Button className={classes.imgButton} onClick={() => history.push('/my-account')} disabled={isLoading} >My Account</Button>\n        <Button className={classes.imgButton} onClick={() => disconnect()} disabled={isLoading} >Disconnect</Button>\n      </div>\n    </HeaderBar>\n  );\n};\n\nconst mapStateToProps = state => ({\n  accountAddress: state.account.address,\n  isLoading: state.account.isLoading,\n  isLoggedIn: state.account.isLoggedIn,\n  setAccountAddress: PropTypes.func.isRequired,\n  setAccountSignature: PropTypes.func.isRequired,\n});\n\nexport default connect(mapStateToProps, { setAccountAddress, setAccountSignature, setIsLoggedIn })(Header);","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAAA+CAYAAAA/B2f5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIsSURBVHgB7d3RbRpBEIDhcZQCXAJ04BK4DugguIKUYFEJ0IE74OjkSqCD5BYnKHlxblCIJufvk1bi4e6NXyudRrsPcV/Hca0C5qcbVx938imAcj7HP3A8HmO1WgX877qui77v497smFCQMKEgYUJBwoSChAkFCRMKEiYUJEwoKDtgsIjciN1jwDyt462HKc7jeo2EbJirce0C+Jp4dog7h3mxWCxSI3aPjzZO5mG9Xl/+/1Ocz+d4fU31ePUQOZtx7TabTex2Nk54zzAMsVwuLz/Htcy86+MPFCRMKEiYUJAwoSBhQkHChIKECQUJEwpqkz/HxPOLALLa6Fums0MLcxXAPbUwV4nnT9dZ2XbE5FRTZwXhI2sz4pmuDodD7Pf7y+9rmM59hb+rhZnp6nQ6XX/7+AMFCRMKEiYUJEwoSJhQkDChIGFCQcKEgoQJBV0nfzK35LaJhqenpwDel+mqnar3Uzu+8lskOb4S/uyX4yuztm3H7BMvtCl5WyXk9YlnhxZml3hhE65IgKwhcp35+AMVCRMKEiYUJEwoSJhQkDChIGFCQcKEgm666r3N/z0/P09+/uXlxZGXzMJ2u/1tpvU97ar3W9101XsktbM1HY/JHHRdlxpM/2GI5FXv2R2zH9f0rXLcLMO1CszTNt6CmyK9dWbDHMa1Tzz/JYTJPPWRG0xP8fEHChImFCRMKEiYUJAwoSBhQkHChIKECQXdNCub1caYgOnsmFDQd3W4Xrw9ifjpAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABICAYAAAB2tuKSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEjSURBVHgB7dzRScNAAIDhi3QJNxBcwWK7hEO6RBVnENzAMWoXKLmH8BPk+54PEn7uIcddbhkTXh/HdXDX5+9Y1sY8DBJCR4SOCB0ROiJ0ROiI0JHFYqRhRkeEjggdEToidEToiNARoSNCR4SOCB0ROiJ0ROiI0BGhI0JHDjODPt4vg/tOb+fVMWZ0ROiI0BGhI0JHhI4IHRE6sly/LtmRsOW4/mF/e5+xhfJZM8zoiNARoSNCR4SOCB0ROiJ0ZOoflqkdlp/v9TFPz2NXNnpnOyw7InRE6IjQEaEjQkeEjggdOczccHWzvgszsxh5OY3/yC1hOyJ0ROiI0BGhI0JHhI4IHZlZrEwpj5aVluN5k0ZmdEToiNARoSNCR4SOCB0ROvIHYlsi3iyJnsEAAAAASUVORK5CYII=\"","import React from 'react';\nimport Header from './Header';\nimport styled from 'styled-components';\nimport { useLocation } from 'react-router-dom';\nimport FooterImg from '../assets/footer.png';\nimport { makeStyles } from '@mui/styles';\n\n// component styles\nconst Wrapper = styled.div`\n        display: flex;\n        top: 64px;\n        position: relative;\n        height: calc(100% - 64px);\n        width: 100%;\n        flex: auto;\n        flex-direction: column;\n`;\nconst Main = styled.main`\n    position: fixed;\n    height: calc(100% - 64px);\n    width: 100%;\n    padding-top: 0px;\n    padding-bottom: 0px;\n    @media (min-width: 700px) {\n        flex: 1;\n        height: calc(100% - 64px);\n        width: 100%;\n    }\n`;\nconst hide_header_routes = [\n    '/'\n  ];\n\nconst useStyles = makeStyles(theme => ({\n    homeBackground: {\n        backgroundImage: `url(${FooterImg})`, \n        backgroundRepeat: 'no-repeat', \n        backgroundSize: 'contain', \n        backgroundPosition: 'bottom'\n    },\n}));\n\nconst Layout = ({ children }) => {\n    const location = useLocation();\n    const classes = useStyles();\n    return (\n        <React.Fragment>\n            {hide_header_routes.indexOf(location.pathname) > -1 ? null : <Header />}\n            <Wrapper>\n                <Main className={hide_header_routes.indexOf(location.pathname) > -1 ? classes.homeBackground : null}>{children}</Main>\n            </Wrapper>\n        </React.Fragment>\n    );\n};\n\nexport default Layout;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABZ0AAACQCAIAAADsjVIdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABGhJREFUeNrs2suNg0AQQEFmU5rQiIPQiIm9OQFGFg9X3Y3azUfoiXEd2x1j35a4OYZ5zGMeazGPedzm1mIe85jHPOYxj3l+8DXjbwMAAABo0jUAAACAKl0DAAAAqNI1AAAAgCpdAwAAAKjSNQAAAIAqXQMAAACo0jUAAACAKl0DAAAAqNI1AAAAgCpdAwAAAKjSNQAAAIAqXQMAAACo0jUAAACAKl0DAAAAqNI1AAAAgCpdAwAAAKjSNQAAAIAqXQMAAACo0jUAAACAKl0DAAAAqNI1AAAAgCpdAwAAAKgaN39/HYvm2NccxzzmMc/yeazFPG/ifFmLeTx2PHbM4/oxj3le9prhew0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBK1wAAAACqdA0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBK1wAAAACqdA0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBK1wAAAACqdA0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBqPGSO61j0f3bzfGOep7EfXDb2Ay5j+7Ef+8H5sp/f5HsNAAAAoErXAAAAAKp0DQAAAKBK1wAAAACqdA0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBK1wAAAACqdA0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBK1wAAAACqdA0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBK1wAAAACqdA0AAACgalgBfFzHovtqt0sAwNsOuL/cX9/gew0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBK1wAAAACqdA0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBK1wAAAACqdA0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBK1wAAAACqdA0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBqvPWPzTmXHOc8T1eJ8wV47HjsAHg+4/rhmefL9xoAAABAla4BAAAAVOkaAAAAQJWuAQAAAFTpGgAAAECVrgEAAABU6RoAAABAla4BAAAAVOkaAAAAQJWuAQAAAFTpGgAAAECVrgEAAABU6RoAAABAla4BAAAAVOkaAAAAQJWuAQAAAFTpGgAAAECVrgEAAABU6RoAAABAla4BAAAAVOkaAAAAQJWuAQAAAFTpGgAAAEDVmHMuOdB5nkuO87R5nsb5wvmyH1w29oPXDPO4fuwH58t+PnyvAQAAAFTpGgAAAECVrgEAAABU6RoAAABAla4BAAAAVOkaAAAAQJWuAQAAAFTpGgAAAECVrgEAAABU6RoAAABAla4BAAAAVOkaAAAAQJWuAQAAAFTpGgAAAECVrgEAAABU6RoAAABAla4BAAAAVOkaAAAAQJWuAQAAAFTpGgAAAECVrgEAAABU6RoAAABAla4BAAAAVP0LMABER89A3Pg2ZQAAAABJRU5ErkJggg==\"","import React, { useEffect, useState } from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n} from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Home from './home';\nimport SellMyFiles from './sellMyFiles';\nimport BrowseFiles from './browserFiles';\nimport MyAccount from './myAccount';\nimport BuyFiles from './buyFiles';\nimport Layout from '../components/Layout';\nimport { setIsLoggedIn } from '../redux/actions/AccountActions';\n\nconst Webpages = (props) => {\n  const { setIsLoggedIn } = props;\n\n  useEffect(() => {\n    if(window.ethereum) {\n      window.ethereum\n      .request({ method: 'eth_accounts' })\n      .then((res) => {\n        if(res.length > 0) setIsLoggedIn(true);\n        else {\n          setIsLoggedIn(false);\n          window.ethereum.request({ method: 'eth_requestAccounts' });\n        }\n      })\n      .catch(console.error);\n    }\n  }, [window.ethereum])\n\n  return(\n      <Router>\n        <Layout>\n          <Route exact path=\"/\" component= {Home} />\n          <Route path = \"/sell-my-files\" component = {SellMyFiles} />\n          <Route path = \"/browse-files\" component = {BrowseFiles} />\n          <Route path = \"/my-account\" component = {MyAccount} />\n          <Route path = \"/buy-files/:shortlink\" component = {BuyFiles} />\n        </Layout>\n      </Router>\n  );\n};\n\nexport default connect(null, { setIsLoggedIn })(Webpages);","import {\n    SET_ACCOUNT_ADDRESS, SET_ACCOUNT_SIGNATURE, SET_IS_LOGGED_IN, SET_IS_LOADING, SET_PRIVATE_KEY,\n} from \"../actions/AccountActions\";\n\nconst initialState = {\n    address: [],\n    signature: null,\n    isLoggedIn: true,\n    isLoading: false,\n    globalPrivateKey: null,\n};\n\nconst AccountReducer = function(state = initialState, action) {\n    switch (action.type) {\n        case SET_ACCOUNT_ADDRESS: {\n            return {\n                ...state,\n                address: action.address\n            };\n        }\n        case SET_ACCOUNT_SIGNATURE: {\n            return {\n                ...state,\n                signature: action.signature\n            }\n        }\n        case SET_IS_LOGGED_IN: {\n            return {\n                ...state,\n                isLoggedIn: action.isLoggedIn\n            }\n        }\n        case SET_IS_LOADING: {\n            return {\n                ...state,\n                isLoading: action.isLoading\n            }\n        }\n        case SET_PRIVATE_KEY: {\n            return {\n                ...state,\n                globalPrivateKey: action.globalPrivateKey\n            }\n        }\n        default: {\n            return state;\n        }\n    }\n}\n\nexport default AccountReducer;","import { combineReducers } from \"redux\";\nimport AccountReducer from \"./AccountReducer\";\n\nconst RootReducer = combineReducers({\n  account: AccountReducer,\n});\n\nexport default RootReducer;\n","import thunk from \"redux-thunk\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport RootReducer from \"./reducers/RootReducer\";\n\nconst initialState = {};\nconst middlewares = [thunk];\nlet devtools = x => x;\n\nif (\n  process.env.NODE_ENV !== \"production\" &&\n  process.browser &&\n  window.__REDUX_DEVTOOLS_EXTENSION__\n) {\n  devtools = window.__REDUX_DEVTOOLS_EXTENSION__();\n}\n\nexport const Store = createStore(\n  RootReducer,\n  initialState,\n  compose(applyMiddleware(...middlewares), devtools)\n);\n","const MockAdapter = require('axios-mock-adapter');\nconst axios = require('axios');\nconst Mock = new MockAdapter(axios);\nexport default Mock;","import Mock from \"../mock\";\n\nconst fileDB = {\n  files: [\n    {\n      id: \"lkfjdfjdsjdslgkfjdskjfds\",\n      name: \"《泰坦尼克号》+ 中文字幕\",\n      numberOfFiles: 2,\n      size: 1.9,\n      price: 0.1\n    },\n    {\n      id: \"fkjjirewoigkjdhvkcxyhuig\",\n      name: \"《泰坦尼克号》+ 中文字幕\",\n      numberOfFiles: 1,\n      size: 0.5,\n      price: 0.2\n    },\n    {\n      id: \"fdskjkljicuviosduisjd\",\n      name: \"《泰坦尼克号》+ 中文字幕\",\n      numberOfFiles: 7,\n      size: 5.9,\n      price: 0.5\n    },\n    {\n      id: \"fdskfjdsuoiucrwevbgd\",\n      name: \"《泰坦尼克号》+ 中文字幕\",\n      numberOfFiles: 3,\n      size: 1.5,\n      price: 0.2\n    }\n  ]\n};\n\nMock.onGet(\"/api/files\").reply(config => {\n  const id = config.data;\n  const response = fileDB.files.find(file => file.id === id);\n  return [200, response];\n});","import Mock from \"./mock\";\n\nimport \"./db/sellItem\";\n\nMock.onAny().passThrough();","import './App.css';\nimport Webpages from './webpages';\nimport { Provider as StoreProvider } from \"react-redux\";\nimport { Store } from \"./redux/Store\";\nimport \"./utils/mock-db\";\n\nfunction App() {\n  return (\n    <div>\n      <StoreProvider store={Store}>\n        <Webpages />\n      </StoreProvider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n process.env.REACT_APP_ENV === 'development' ? <React.StrictMode>\n    <App />\n  </React.StrictMode> : <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}